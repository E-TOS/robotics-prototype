<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>SC Robotics GUI - Rover</title>
    <link rel="shortcut icon" href="static/img/sclogo_header_black.ico">

    <!-- Bootstrap CSS -->
    <link href="../static/css/bootstrap-4.1.2.min.css" rel="stylesheet">
    <link href="../static/css/font-awesome-4.7.0.min.css" rel="stylesheet">
    <link href="../static/css/titatoggle-dist.css" rel="stylesheet">
    <link href="../static/css/app.css" rel="stylesheet">
    <link href="../static/css/rover.css" rel="stylesheet">
    <script src="../static/js/jquery-3.3.1.min.js"></script>
    <script src="../static/js/helpers.js"></script>

    <!-- for roslibjs stuff -->
    <script type="text/javascript" src="../static/js/roslibjs/roslib.min.js"></script>
    <script type="text/javascript" src="../static/js/roslibjs/eventemitter2.min.js"></script>
    <!-- all for ros3d -->
    <script type="text/javascript" src="../static/js/roslibjs/three.js"></script>
    <script type="text/javascript" src="../static/js/roslibjs/ColladaLoader.js"></script>
    <script type="text/javascript" src="../static/js/roslibjs/ColladaLoader2.min.js"></script>
    <script type="text/javascript" src="../static/js/roslibjs/STLLoader.js"></script>
    <script type="text/javascript" src="../static/js/roslibjs/ros3d.min.js"></script>
    <!-- homemade -->
    <script type="text/javascript" src="../static/js/roslibjs/ros-helpers.js"></script>
    <script src="../static/js/app.js"></script>
    <script src="../static/js/rover.js"></script>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous" async></script> -->
    <script src="../static/js/popper-1.14.3.min.js"></script>
    <script src="../static/js/bootstrap-4.1.2.min.js"></script>
    <!-- Bootstrap Toggle Buttons -->
    <link href="../static/css/bootstrap-toggle-2.2.2.min.css" rel="stylesheet">
    <script src="../static/css/bootstrap-toggle-2.2.2.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top" style="margin-bottom: 120px">
        <a class="navbar-brand" href=""javascript:void(0)"">
            <img src="../static/img/sclogo_header.png">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="dropdown col-md-2">
          <button id="mux" type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
            Select Device Channel
          </button>
          <div class="dropdown-menu">
            <a id="mux-0" class="dropdown-item">0: Rover</a>
            <a id="mux-1" class="dropdown-item">1: Arm</a>
            <a id="mux-2" class="dropdown-item">2: Science</a>
            <a id="mux-3" class="dropdown-item">3: PDS</a>
          </div>
        </div>

        <div class="dropdown col-md-2">
          <button id="serial-type" type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
            Serial Type
          </button>
          <div class="dropdown-menu">
            <a id="uart" class="dropdown-item">uart</a>
            <a id="usb" class="dropdown-item">usb</a>
          </div>
        </div>
        </li>
      </ul>
    </div>
    <div class="col-md-4">
      <div class="row" style="color:white">
        <div class="col-md-5">BATTERY VOLTAGE: </div>
        <div class="col-md-1" id="battery-voltage">-</div>
      </div>
    </div>
  </nav>
  <br>
  <br>
  <div style="margin-bottom:10px"></div>

  <div class="container fill">
    <div class="row"> <!-- motor table, map, camera -->
      <div class="col-md-3"> <!-- rover wheel speeds -->

      </div>
      <div class="col-md-4">

      </div>
      <div class="col-md-5"> <!-- Camera Feed -->
            <h5 class="container-header">Camera</h5>
            <!-- It would be preferable to use video tag, but mjpeg streams are not have no general support beyond img tags -->
            <!-- <img src="../static/images/stream-offline.jpg" class="rotateimg180"/> -->
            <img id="camera-feed" src="http://{{ roverIP }}:8080/stream?topic=/cv_camera/image_raw" class="mx-auto d-block" alt="Arm Camera Stream Offline" onerror="this.onerror=null;this.src='../static/images/stream-offline.jpg';"/>
            <!--<img src="http://localhost:8080/stream?topic=/cv_camera/image_raw" class="mx-auto d-block" alt="Arm Camera Stream Offline" onerror="this.onerror=null;this.src='../static/images/stream-offline.jpg';"/>-->
        </div>
    </div>
    <div class="row"> <!-- navigation, rover controls, camera+extra controls, log -->

      


        <!-- EXTRA CONTROLS -->
        <div class="row">
          <div class="col-sm-12" style="text-align: center">
            <h5 class="container-header">EXTRA CONTROLS</h5>
          </div>
        </div>
        <div class="row">
          <table>
            <tr>
              <td>
                <button title="List all commands" id="list-all-rover-cmds" type="button" class="control-btn-mid" disabled>
                  <strong>L</strong>
                </button>
              </td>
              <td>
                <div class="col-sm" align="center" style="vertical-align:middle; border-style:none">
                    <button type="button" id="reboot-button" class="btn btn-primary btn-lg fa fa-retweet fa-lg" aria-hidden="true" style="padding: 16px 10px 16px 10px;margin-top:12px">
                        <span style="font-family:'Helvetica Neue', Arial, sans-serif;"> Reboot MCU</span>
                    </button>
                </div>
              </td>
              <td>
                <button title="Stop motors" id="stop-motors-btn" type="button" class="control-btn-mid">
                  <strong>O</strong>
                </button>
              </td>
            </tr>
          </table>
        </div>
      </div>
  </div>

</body>

</html>
